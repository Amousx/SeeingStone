# Lighterå¸‚åœºé…ç½®

## å½“å‰çŠ¶æ€ âœ… å®Œå…¨è‡ªåŠ¨åŒ–

SeeingStoneç°åœ¨**è‡ªåŠ¨ä»Lighterå®˜æ–¹APIè·å–æ‰€æœ‰å¸‚åœºé…ç½®**ï¼Œæ— éœ€ä»»ä½•æ‰‹åŠ¨é…ç½®ï¼

### å®ç°æ–¹å¼

ä½¿ç”¨Lighterå®˜æ–¹API endpointï¼š
```
https://mainnet.zklighter.elliot.ai/api/v1/orderBookDetails
```

è¯¥APIè¿”å›æ‰€æœ‰å¸‚åœºçš„å®Œæ•´é…ç½®ï¼ŒåŒ…æ‹¬ï¼š
- market_id: å¸‚åœºID
- symbol: äº¤æ˜“å¯¹ç¬¦å·
- status: å¸‚åœºçŠ¶æ€ï¼ˆactive/inactiveï¼‰
- ä»·æ ¼ç²¾åº¦ã€æ‰‹ç»­è´¹ç­‰è¯¦ç»†é…ç½®

### è‡ªåŠ¨ç›‘æ§çš„å¸‚åœº

ç¨‹åºå¯åŠ¨æ—¶è‡ªåŠ¨è·å–**æ‰€æœ‰activeçŠ¶æ€çš„å¸‚åœº** (å½“å‰117ä¸ª)ï¼ŒåŒ…æ‹¬ï¼š

**ä¸»æµåŠ å¯†è´§å¸**ï¼š
- ETH (Market 0), BTC (Market 1), SOL (Market 2)
- BNB (Market 25), ADA (Market 39), XRP (Market 7)
- LINK (Market 8), DOT (Market 11), AVAX (Market 9), NEAR (Market 10)
- DOGE, SHIB, PEPE, WIFç­‰Memeå¸
- ä»¥åŠæ›´å¤š...

**ä¼ ç»Ÿèµ„äº§**ï¼š
- XAU (é»„é‡‘), USD/JPY, GBP/USD, NZD/USDç­‰å¤–æ±‡å¯¹
- éƒ¨åˆ†ç¾è‚¡ (MSFT, PLTR, HOOD, COINç­‰)

**æ–°å…´é¡¹ç›®**ï¼š
- å„ç±»DeFiå’ŒLayer2ä»£å¸

## æŠ€æœ¯ä¼˜åŠ¿

### ä¹‹å‰çš„é—®é¢˜
1. âŒ æ‰‹åŠ¨é…ç½®market ID - å®¹æ˜“å‡ºé”™ï¼Œéš¾ä»¥ç»´æŠ¤
2. âŒ ä»·æ ¼åŒ¹é…è‡ªåŠ¨å‘ç° - å¯èƒ½åŒ¹é…é”™è¯¯ï¼Œéœ€è¦å‚è€ƒä»·æ ¼
3. âŒ ç¡¬ç¼–ç å¸‚åœºåˆ—è¡¨ - æ–°å¸‚åœºä¸Šçº¿éœ€è¦æ‰‹åŠ¨æ·»åŠ 
4. âŒ æ— æ³•å®æ—¶ç›‘æ§æ–°å¸ä¸Šçº¿ - éœ€è¦é‡å¯ç¨‹åº

### ç°åœ¨çš„æ–¹æ¡ˆ
1. âœ… **å®Œå…¨è‡ªåŠ¨åŒ–** - æ— éœ€ä»»ä½•æ‰‹åŠ¨é…ç½®
2. âœ… **å¯åŠ¨æ—¶åŒæ­¥** - æ¯æ¬¡å¯åŠ¨éƒ½ä»APIè·å–æœ€æ–°å¸‚åœº
3. âœ… **è¿è¡Œæ—¶è‡ªåŠ¨åˆ·æ–°** - é»˜è®¤æ¯10åˆ†é’Ÿè‡ªåŠ¨æ£€æµ‹æ–°å¸‚åœºï¼ˆå¯é…ç½®ï¼‰
4. âœ… **å‡†ç¡®æ— è¯¯** - ä½¿ç”¨å®˜æ–¹APIï¼Œ100%å‡†ç¡®
5. âœ… **å…¨é¢è¦†ç›–** - è‡ªåŠ¨åŒ…å«æ‰€æœ‰activeå¸‚åœºï¼ˆ117ä¸ªï¼‰
6. âœ… **æ–°å¸å®æ—¶ç›‘æ§** - Lighterä¸Šæ–°å¸æ—¶è‡ªåŠ¨æ£€æµ‹å¹¶è®¢é˜…
7. âœ… **æ˜“äºç»´æŠ¤** - é›¶ç»´æŠ¤æˆæœ¬

## ä»£ç å®ç°

### APIè°ƒç”¨
```go
// ä»Lighterå®˜æ–¹APIè·å–å¸‚åœºé…ç½®
markets, err := lighter.FetchMarketsFromAPI(
    "https://mainnet.zklighter.elliot.ai/api/v1/orderBookDetails"
)
```

### è¿”å›ç¤ºä¾‹
```json
{
  "code": 200,
  "order_book_details": [
    {
      "symbol": "BTC",
      "market_id": 1,
      "status": "active",
      ...
    },
    {
      "symbol": "ETH",
      "market_id": 0,
      "status": "active",
      ...
    }
  ]
}
```

### Fallbackæœºåˆ¶
å¦‚æœAPIè°ƒç”¨å¤±è´¥ï¼ˆç½‘ç»œé—®é¢˜ç­‰ï¼‰ï¼Œç¨‹åºä¼šä½¿ç”¨å†…ç½®çš„fallbacké…ç½®ï¼ˆETH, BTC, SOLï¼‰ï¼Œç¡®ä¿ç¨‹åºä»èƒ½æ­£å¸¸è¿è¡Œã€‚

### è‡ªåŠ¨åˆ·æ–°æœºåˆ¶
ç¨‹åºè¿è¡ŒæœŸé—´ä¼š**å®šæœŸä»APIåˆ·æ–°å¸‚åœºåˆ—è¡¨**ï¼ˆé»˜è®¤æ¯10åˆ†é’Ÿï¼‰ï¼Œè‡ªåŠ¨æ£€æµ‹å¹¶è®¢é˜…æ–°ä¸Šçº¿çš„å¸‚åœºã€‚

**é…ç½®æ–¹å¼**ï¼š
```bash
# .envæ–‡ä»¶
LIGHTER_MARKET_REFRESH_INTERVAL=10  # åˆ·æ–°é—´éš”ï¼ˆåˆ†é’Ÿï¼‰ï¼Œ0è¡¨ç¤ºç¦ç”¨
```

**æ—¥å¿—ç¤ºä¾‹**ï¼š
```
2025/12/15 11:48:27 Market auto-refresh enabled (interval: 10m0s)
2025/12/15 11:58:27 Refreshing Lighter markets from API...
2025/12/15 11:58:27 Detected 1 new markets on Lighter
2025/12/15 11:58:27 ğŸ†• New market detected and subscribed: NEWCOINUSDT (Market ID: 120)
2025/12/15 11:58:27 Market refresh completed. Now monitoring 118 markets
```

## å†å²é—®é¢˜è®°å½•

### é—®é¢˜1: æ‰‹åŠ¨é…ç½®market IDï¼ˆå·²è§£å†³ï¼‰
**ç—‡çŠ¶**: éœ€è¦æ‰‹åŠ¨æµ‹è¯•æ¯ä¸ªmarket IDå¯¹åº”çš„symbolï¼Œå®¹æ˜“å‡ºé”™

**è§£å†³æ–¹æ¡ˆ**: ä½¿ç”¨å®˜æ–¹APIè‡ªåŠ¨è·å–ï¼Œå®Œå…¨æ— éœ€æ‰‹åŠ¨é…ç½®

### é—®é¢˜2: ä»·æ ¼åŒ¹é…è‡ªåŠ¨å‘ç°ï¼ˆå·²åºŸå¼ƒï¼‰
**ç—‡çŠ¶**: é€šè¿‡å¯¹æ¯”Asterä»·æ ¼æ¥çŒœæµ‹Lighterçš„market IDï¼Œä¸å¤Ÿå‡†ç¡®

**è§£å†³æ–¹æ¡ˆ**: å‘ç°å®˜æ–¹APIååºŸå¼ƒäº†ä»·æ ¼åŒ¹é…æ–¹æ³•

### é—®é¢˜3: 0-indexed vs 1-indexedï¼ˆå·²è§£å†³ï¼‰
**ç—‡çŠ¶**: æœ€åˆè¯¯ä»¥ä¸ºMarket 1æ˜¯BTCï¼Œå®é™…ä¸ŠMarket 0æ˜¯ETH

**è§£å†³æ–¹æ¡ˆ**: å®˜æ–¹APIç›´æ¥æä¾›å‡†ç¡®æ˜ å°„ï¼Œä¸å†æœ‰è¿™ä¸ªé—®é¢˜

## æŸ¥çœ‹æ‰€æœ‰å¸‚åœº

å¦‚æœæ‚¨æƒ³æŸ¥çœ‹å½“å‰æ‰€æœ‰å¯ç”¨çš„Lighterå¸‚åœºï¼Œå¯ä»¥ç›´æ¥è®¿é—®APIï¼š

```bash
curl https://mainnet.zklighter.elliot.ai/api/v1/orderBookDetails | python -m json.tool
```

æˆ–åœ¨ç¨‹åºæ—¥å¿—ä¸­æŸ¥çœ‹å¯åŠ¨æ—¶çš„è¾“å‡ºï¼š
```
Fetched 117 active markets from Lighter API
```

---

**Built with â¤ï¸ by Claude Code**
